# מדריך למערכת המלצרים - Giggsi Digital Menu

## סקירה כללית
מערכת המלצרים החדשה מאפשרת למלצרים לנהל הזמנות דרך ממשק דיגיטלי ידידותי. המערכת כוללת ניהול שולחנות, עגלת קניות, הפקת חשבונות עם תוספת שירות אוטומטית של 12.5%.

## תכונות עיקריות
- 🔐 כניסה מאובטחת למלצרים
- 📋 ניהול שולחנות (70+ שולחנות מוגדרים מראש)
- 🛒 עגלת קניות נפרדת לכל שולחן
- 📄 הפקת חשבונות עם חישוב שירות אוטומטי
- 👥 ניהול מלצרים דרך פאנל האדמין
- 📱 ממשק מותאם למובייל וטאבלט

## שולחנות במערכת
המערכת מוגדרת עם השולחנות הבאים:
- אזור ראשי: שולחנות 1-19
- אזור 100: שולחנות 100-104
- אזור 200: שולחנות 200-204
- אזור 300: שולחנות 300-304
- אזור 400: שולחנות 400-404
- אזור 500: שולחנות 500-504
- אזור VIP: שולחנות 512-513
- אזור מרפסת: שולחנות 900-920

## כתובות ונתיבים

### כניסת מלצרים
```
/waiter/login
```

### בחירת שולחן
```
/waiter/tables
```

### ניהול הזמנת שולחן
```
/waiter/table/{מספר-שולחן}
```
לדוגמה: `/waiter/table/15`

### הצגת חשבון
```
/waiter/table/{מספר-שולחן}/bill
```

### ניהול מלצרים (למנהלים בלבד)
```
/admin-giggsi-2024/waiters
```

## הוראות שימוש למלצר

### 1. כניסה למערכת
1. גש לכתובת `/waiter/login`
2. הזן שם משתמש וסיסמה
3. לחץ על "כניסה"

### 2. בחירת שולחן
1. לאחר הכניסה תועבר אוטומטית למסך השולחנות
2. בחר שולחן מהרשימה
3. שולחנות מסומנים בצבעים לפי סטטוס:
   - 🟢 ירוק - פנוי
   - 🔴 אדום - תפוס
   - 🟡 צהוב - שמור
   - 🔵 כחול - בניקוי

### 3. יצירת הזמנה
1. לחץ על שולחן פנוי
2. לחץ "פתח הזמנה חדשה"
3. בחר קטגוריה מהתפריט
4. בחר פריטים והוסף להזמנה
5. ניתן להוסיף תוספות וכמויות

### 4. ניהול העגלה
- הוספת פריט: לחץ על הפריט ובחר כמות
- עדכון כמות: השתמש בכפתורי + / -
- מחיקת פריט: לחץ על סמל הפח

### 5. הפקת חשבון
1. לחץ על "חשבון"
2. החשבון יכלול:
   - פירוט כל הפריטים
   - סכום ביניים
   - תוספת שירות 12.5%
   - סה"כ לתשלום

### 6. סגירת חשבון
- תשלום במזומן: לחץ "מזומן"
- תשלום באשראי: לחץ "אשראי"
- השולחן יסומן כפנוי אוטומטית

## הוראות למנהל - יצירת מלצרים

### 1. כניסה לניהול מלצרים
1. היכנס לפאנל האדמין: `/admin-giggsi-2024`
2. בחר "ניהול מלצרים"

### 2. הוספת מלצר חדש
1. לחץ על "הוסף מלצר חדש"
2. מלא את הפרטים:
   - שם מלצר
   - כתובת דוא"ל (תשמש לכניסה)
   - סיסמה
3. לחץ "הוסף מלצר"

### 3. ניהול מלצרים קיימים
- **עריכה**: לחץ על סמל העיפרון
- **הפעלה/השבתה**: לחץ על סמל ה-X או V
- **מחיקה**: לחץ על סמל הפח

## הגדרת בסיס הנתונים

### הרצת מיגרציה ב-Supabase
1. היכנס ל-Supabase Dashboard
2. עבור ל-SQL Editor
3. הרץ את הקובץ:
```sql
supabase/migrations/create_waiter_tables.sql
```

### טבלאות שנוצרו
- `waiter_users` - משתמשי מלצרים
- `tables` - שולחנות במסעדה
- `orders` - הזמנות
- `order_items` - פריטי הזמנה

## בדיקת המערכת

### תרחיש בדיקה מלא
1. **יצירת מלצר**:
   - כנס לפאנל אדמין
   - צור מלצר חדש

2. **כניסת מלצר**:
   - צא מהמערכת
   - כנס דרך `/waiter/login`

3. **יצירת הזמנה**:
   - בחר שולחן פנוי
   - הוסף פריטים
   - בדוק חישוב שירות

4. **סגירת הזמנה**:
   - הפק חשבון
   - סמן כשולם
   - וודא ששולחן חוזר לסטטוס פנוי

## תמיכה טכנית

### בעיות נפוצות

**בעיה**: לא מצליח להתחבר כמלצר
**פתרון**: וודא שהמלצר פעיל במערכת ושהסיסמה נכונה

**בעיה**: שולחן לא משתחרר אחרי תשלום
**פתרון**: וודא שסימנת את ההזמנה כ"שולם" ולא רק סגרת אותה

**בעיה**: תוספת השירות לא מחושבת
**פתרון**: בדוק שהטבלאות בבסיס הנתונים עודכנו נכון

## הערות חשובות
- השירות מחושב אוטומטית בשיעור של 12.5%
- כל הזמנה קשורה למלצר שיצר אותה
- ניתן לראות היסטוריית כניסות של מלצרים
- המערכת תומכת בעבודה מקבילית של מספר מלצרים

## צילומי מסך

### מסך כניסה
`/waiter/login`
- שדה דוא"ל
- שדה סיסמה
- כפתור כניסה

### מסך שולחנות
`/waiter/tables`
- רשת שולחנות מחולקת לאזורים
- סימון צבעוני לפי סטטוס
- מקרא צבעים

### מסך הזמנה
`/waiter/table/[number]`
- תצוגת תפריט
- עגלת קניות צדית
- סיכום מחירים

### מסך חשבון
`/waiter/table/[number]/bill`
- פירוט פריטים
- חישוב שירות
- אפשרויות תשלום

---

**פותח עבור**: Giggsi Sports Bar
**גרסה**: 1.0.0
**תאריך עדכון**: ינואר 2025